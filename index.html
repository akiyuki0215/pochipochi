<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>ä¿®ç†å—ä»˜ã‚³ãƒ³ã‚µãƒ«ãƒŠãƒ“ï¼ˆæ–°æ½Ÿã‚¨ãƒªã‚¢ç‰ˆï¼‰</title>
<style>
  :root{
    --blue:#1e3a8a;
    --btn:#2563eb;
    --btn-hover:#1e40af;
    --ok:#e8f5e9;
    --warn:#fff8e1;
    --ng:#fdecea;
  }
  body{margin:0;background:#f6f9fc;font-family:-apple-system,BlinkMacSystemFont,"Hiragino Sans","Segoe UI",Roboto,"Noto Sans JP",sans-serif;color:#111;}
  header{background:var(--blue);color:#fff;display:flex;justify-content:space-between;align-items:center;padding:14px 18px}
  header h1{font-size:20px;margin:0}
  header .send{background:#2563eb;color:#fff;border:none;border-radius:8px;padding:8px 14px;cursor:pointer}
  header .send:hover{background:#1e40af}
  main{max-width:980px;margin:26px auto;padding:0 16px}
  .card{background:#fff;border-radius:12px;box-shadow:0 6px 16px rgba(0,0,0,.07);padding:20px 22px;margin-bottom:18px}
  h2{margin:0 0 8px;color:var(--blue);font-size:20px}
  .group-title{font-weight:700;color:#374151;margin:14px 6px 10px}
  .btn{background:var(--btn);color:#fff;border:none;border-radius:10px;padding:10px 14px;margin:6px;cursor:pointer;min-width:120px}
  .btn:hover{background:var(--btn-hover)}
  .row{display:flex;flex-wrap:wrap}
  .result{border-left:6px solid;border-radius:10px;padding:16px;margin-top:16px}
  .ok{background:var(--ok);border-left-color:#16a34a}
  .warn{background:var(--warn);border-left-color:#f59e0b}
  .ng{background:var(--ng);border-left-color:#ef4444}
  .muted{color:#6b7280;font-size:13px}
  .back{background:#6b7280}
  .back:hover{background:#4b5563}
  .answers{margin:8px 0 4px}
</style>
</head>
<body>
<header>
  <h1>ä¿®ç†å—ä»˜ã‚³ãƒ³ã‚µãƒ«ãƒŠãƒ“ï¼ˆæ–°æ½Ÿã‚¨ãƒªã‚¢ç‰ˆï¼‰</h1>
  <button class="send" onclick="window.location.href='https://docs.google.com/forms/d/e/1FAIpQLSc5pwJ5ahRwDdJiZNoXA0kSZ7Y9kufFVLL2kqACfH2yQFpsEA/viewform'">ğŸ’¬ æ„è¦‹ã‚’é€ã‚‹</button>
</header>

<main id="app">
  <!-- åˆæœŸç”»é¢ã¯â€œãƒ¡ãƒ¼ã‚«ãƒ¼ã‚’ç›´æ¥â€é¸ã¹ã‚‹ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ -->
  <div class="card" id="top">
    <h2>ãƒ¡ãƒ¼ã‚«ãƒ¼ã‚’é¸æŠ</h2>
    <div class="group-title">å›½å†…ãƒ¡ãƒ¼ã‚«ãƒ¼</div>
    <div class="row" id="g-domestic"></div>
    <div class="group-title">æµ·å¤–ãƒ¡ãƒ¼ã‚«ãƒ¼</div>
    <div class="row" id="g-overseas"></div>
    <div class="group-title">Surface</div>
    <div class="row" id="g-surface"></div>
    <div class="group-title">Apple</div>
    <div class="row" id="g-apple"></div>
  </div>

  <div class="card" id="flow" style="display:none"></div>
</main>

<script>
const DATA = {
  groups: {
    domestic: ["NEC","Fujitsu","Dynabook","VAIO","Mouse Computer"],
    overseas: ["ASUS","Dell","Lenovo","MSI"],
    surface: ["Surface"],
    apple: ["Apple"]
  }
};

function el(tag, attrs={}, html=""){
  const e=document.createElement(tag);
  Object.entries(attrs).forEach(([k,v])=>e.setAttribute(k,v));
  if(html!==undefined) e.innerHTML=html;
  return e;
}

function mountTop(){
  document.getElementById('top').style.display='block';
  document.getElementById('flow').style.display='none';
  document.getElementById('flow').innerHTML='';
}

function toFlow(title, innerBuilder){
  const flow = document.getElementById('flow');
  flow.innerHTML = '';
  const h2 = el('h2',{}, title);
  flow.appendChild(h2);

  // å›ç­”ãƒœã‚¿ãƒ³ã®è¡Œ
  const answers = el('div',{class:'answers', id:'answers'});
  flow.appendChild(answers);

  // çµæœã‚¨ãƒªã‚¢ã‚’å°‚ç”¨DIVã«ï¼ˆâ†ã“ã“ãŒãƒã‚¤ãƒ³ãƒˆï¼šæ¯å›ã‚¯ãƒªã‚¢ï¼‰
  const resultBox = el('div',{id:'resultBox'});
  flow.appendChild(resultBox);

  // ãƒ“ãƒ«ãƒ€ãƒ¼å‘¼ã³å‡ºã—
  innerBuilder(answers, resultBox);

  // æˆ»ã‚‹
  const back = el('button',{class:'btn back', id:'backBtn'},"æˆ»ã‚‹ï¼ˆãƒ¡ãƒ¼ã‚«ãƒ¼ä¸€è¦§ï¼‰");
  back.onclick = mountTop;
  flow.appendChild(back);

  document.getElementById('top').style.display='none';
  flow.style.display='block';
}

function askWarranty(group, maker){
  toFlow(`${maker} - ãƒ¡ãƒ¼ã‚«ãƒ¼ä¿è¨¼æœŸé–“å†…ã§ã™ã‹ï¼Ÿ`, (answers, resultBox)=>{
    ["ã¯ã„","ã„ã„ãˆ"].forEach(ans=>{
      const b = el('button',{class:'btn'},ans);
      b.onclick = ()=>showResult(group, maker, ans, resultBox);
      answers.appendChild(b);
    });
  });
}

function showResult(group, maker, ans, resultBox){
  // ç›´å‰çµæœã‚’å¿…ãšã‚¯ãƒªã‚¢ï¼ˆå¤šé‡è¡¨ç¤ºé˜²æ­¢ï¼‰
  resultBox.innerHTML = '';

  const add = (cls, title, text)=>{
    const emoji = cls==='ok'?'ğŸŸ¢':cls==='ng'?'ğŸ”´':'ğŸŸ¡';
    const div = el('div',{class:`result ${cls}`}, `<h3 style="margin:0 0 6px">${emoji} ${title}</h3><div>${text}</div>`);
    resultBox.appendChild(div);
  };

  if(group==='domestic'){
    if(ans==='ã¯ã„'){
      add('ok','ä¿®ç†å—ä»˜ å¯èƒ½', 'ãƒ¡ãƒ¼ã‚«ãƒ¼ä¿è¨¼æ›¸ç­‰ã‚’æ·»ä»˜ã®ä¸Šã€ä¿®ç†å—ä»˜ã‚’ã—ã¦ãã ã•ã„ã€‚');
    }else{
      add('warn','æ³¨æ„å–šèµ·', 'ä¿®ç†ã‚­ãƒ£ãƒ³ã‚»ãƒ«æ™‚ã€ãƒ¡ãƒ¼ã‚«ãƒ¼å´ã§å‰å—é‡‘ã‚’è¶…ãˆã‚‹è¦‹ç©ã‚‚ã‚Šè²»ãŒç™ºç”Ÿã—ã¦ã‚‚ã€ä»•å…¥ã‚Œå—ã‘å…¥ã‚Œæ™‚ã«é‡‘é¡5,500å††ã¸ä¿®æ­£OKã€‚');
    }
  }else if(group==='overseas'){
    if(ans==='ã¯ã„'){
      add('ok','ä¿®ç†å—ä»˜ å¯èƒ½', 'ä¿è¨¼å†…å®¹ã‚’ç¢ºèªã®ä¸Šã€ä¿®ç†å—ä»˜ãŒå¯èƒ½ã§ã™ã€‚ç—‡çŠ¶æœªå†ç¾ã‚„ãŠå®¢æ§˜éƒ½åˆã®ä¿®ç†ä¸­æ­¢æ™‚ã¯è¦‹ç©ã‚‚ã‚Šä»£ãŒã‹ã‹ã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚');
    }else{
      add('warn','ä¿®ç†å—ä»˜ å¯èƒ½ï¼ˆæ³¨æ„å–šèµ·ï¼‰', 'ãƒã‚¸ãƒã§ã®ä¿®ç†å—ä»˜ãŒå¯èƒ½ã§ã™ã€‚ãŸã ã—æœ‰å„Ÿæ™‚ã¯ãƒ¡ãƒ¼ã‚«ãƒ¼ã¸ç›´æ¥ä¾é ¼ã™ã‚‹ã‚ˆã‚Šé«˜é¡ã¨ãªã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚ã”èª¬æ˜ã®ä¸Šã€åˆ¤æ–­ã‚’å°Šé‡ã—ã¦ãã ã•ã„ã€‚');
    }
  }else if(group==='surface'){
    add('ng','åº—èˆ—å—ä»˜ä¸å¯ï¼ˆMicrosoftã¸ç›´æ¥ï¼‰',
        'ãƒã‚¤ã‚¯ãƒ­ã‚½ãƒ•ãƒˆã‚µãƒãƒ¼ãƒˆã‚»ãƒ³ã‚¿ãƒ¼ï¼ˆSurfaceå°‚ç”¨ï¼‰<br>é›»è©±ç•ªå·ï¼š0120-54-2244<br>å—ä»˜æ™‚é–“ï¼šæœˆã€œé‡‘ 9:00ã€œ18:00ï¼ˆç¥æ—¥é™¤ãï¼‰');
  }else if(group==='apple'){
    add('ng','åº—èˆ—å—ä»˜ä¸å¯ï¼ˆAppleã¸ç›´æ¥ï¼‰',
        'Appleã‚µãƒ¼ãƒ“ã‚¹&ã‚µãƒãƒ¼ãƒˆãƒ©ã‚¤ãƒ³ã€€0120-277-535 ã¸ã®ã”é€£çµ¡ã‚’ãŠå®¢æ§˜ã«ãŠä¼ãˆãã ã•ã„ã€‚');
  }
}

function buildTop(){
  const addButtons = (id, groupKey)=>{
    const row = document.getElementById(id);
    row.innerHTML='';
    DATA.groups[groupKey].forEach(m=>{
      const b = el('button',{class:'btn'},m);
      b.onclick = ()=>askWarranty(groupKey, m);
      row.appendChild(b);
    });
  };
  addButtons('g-domestic','domestic');
  addButtons('g-overseas','overseas');
  addButtons('g-surface','surface');
  addButtons('g-apple','apple');
}

buildTop();
</script>
</body>
</html>
