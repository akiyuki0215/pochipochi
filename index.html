<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>ä¿®ç†å—ä»˜ã‚³ãƒ³ã‚µãƒ«ãƒŠãƒ“ï¼ˆæ–°æ½Ÿã‚¨ãƒªã‚¢ç‰ˆï¼‰</title>
<style>
  :root{
    --bg:#0f2c6e;
    --card:#ffffff;
    --muted:#6b7280;
    --ok:#e8f5ea;
    --warn:#fff7e6;
    --ng:#fdeaea;
    --ok-dot:#22c55e;
    --warn-dot:#f59e0b;
    --ng-dot:#ef4444;
    --primary:#2563eb;
    --chip:#e8eefc;
  }
  html,body{margin:0;padding:0;background:#f3f6fb;font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Hiragino Sans", "Noto Sans JP", "Helvetica Neue", Arial, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif;}
  header{
    background:linear-gradient(180deg,var(--bg),#1b3d8f);
    color:#fff;padding:14px 16px;position:sticky;top:0;z-index:50;
    box-shadow:0 2px 6px rgba(0,0,0,.15);
  }
  .title{font-weight:800;letter-spacing:.02em;font-size:22px;}
  .toolbar{display:flex;gap:8px;align-items:center;margin-top:10px;justify-content:space-between;flex-wrap:wrap}
  .btn{appearance:none;border:0;border-radius:10px;padding:10px 14px;font-weight:700;cursor:pointer}
  .btn-primary{background:#3b82f6;color:#fff;}
  .btn-ghost{background:#e8eefc;color:#123; font-weight:700;}
  .btn:disabled{opacity:.45;cursor:not-allowed}
  main{max-width:980px;margin:18px auto;padding:0 16px;}
  .card{background:var(--card);border-radius:14px;box-shadow:0 8px 24px rgba(0,0,0,.06);
        padding:18px;margin-bottom:16px;}
  h2{margin:0 0 12px;font-size:20px}
  .section-title{font-size:18px;color:#111;font-weight:800;margin:0 0 10px}
  .chip-row{display:flex;gap:10px;flex-wrap:wrap}
  .chip{background:#eef2ff;color:#1e3a8a;border:1px solid #dbeafe;border-radius:999px;padding:10px 14px;font-weight:700;cursor:pointer}
  .chip:hover{filter:brightness(.97)}
  .result{border-radius:12px;padding:14px 16px;margin-top:12px;}
  .result.ok{background:var(--ok)}
  .result.warn{background:var(--warn)}
  .result.ng{background:var(--ng)}
  .dot{display:inline-block;width:12px;height:12px;border-radius:50%;vertical-align:-2px;margin-right:8px}
  .ok .dot{background:var(--ok-dot)}
  .warn .dot{background:var(--warn-dot)}
  .ng .dot{background:var(--ng-dot)}
  .sub{color:var(--muted);font-size:13px}
  .row{display:flex;gap:8px;flex-wrap:wrap;margin:8px 0 12px}
</style>
</head>
<body>
<header>
  <div class="title">ä¿®ç†å—ä»˜ã‚³ãƒ³ã‚µãƒ«ãƒŠãƒ“ï¼ˆæ–°æ½Ÿã‚¨ãƒªã‚¢ç‰ˆï¼‰</div>
  <div class="toolbar">
    <div class="row">
      <button id="btn-back-top" class="btn btn-ghost" disabled>â† 1ã¤å‰ã«æˆ»ã‚‹</button>
    </div>
    <div class="row">
      <a class="btn btn-primary" href="https://docs.google.com/forms/d/e/1FAIpQLSc5pwJ5ahRwDdJiZNoXA0kSZ7Y9kufFVLL2kqACfH2yQFpsEA/viewform" target="_blank" rel="noopener">ğŸ’¬ æ„è¦‹ã‚’é€ã‚‹</a>
    </div>
  </div>
</header>
<main>
  <div id="app"></div>
</main>

<script>
  const FALLBACK = {
    groups:{
      domestic:["NEC","Fujitsu","Dynabook","VAIO","Mouse Computer"],
      overseas:["ASUS","Dell","Lenovo","MSI"],
      surface:["Surface"],
      apple:["Apple"]
    },
    text:{
      domestic:{ q_hasWarranty:"ãƒ¡ãƒ¼ã‚«ãƒ¼ä¿è¨¼ã®æœŸé–“å†…ã§ã™ã‹ï¼Ÿ",
        r_warranty_title:"ãƒ¡ãƒ¼ã‚«ãƒ¼ä¿è¨¼å†…ã®å—ä»˜ï¼ˆæ³¨æ„äº‹é …ã‚ã‚Šï¼‰",
        r_warranty_details:[
          "ãƒ¡ãƒ¼ã‚«ãƒ¼ä¿è¨¼å†…ã¨ã—ã¦å—ä»˜ã—ã¾ã™ã€‚",
          "ãŸã ã—ã€ç—‡çŠ¶ãŒæœªå†ç¾ã®å ´åˆã‚„ãŠå®¢æ§˜éƒ½åˆã®ä¿®ç†ä¸­æ­¢æ™‚ã«ã¯ã€è¦‹ç©ã‚‚ã‚Šæ‰‹æ•°æ–™ãŒç™ºç”Ÿã™ã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚",
          "ãƒ¡ãƒ¼ã‚«ãƒ¼ä¿è¨¼æ›¸ç­‰ã‚’æ·»ä»˜ã®ä¸Šã€ä¿®ç†å—ä»˜ã‚’ã—ã¦ãã ã•ã„ã€‚"
        ],
        r_prepay_title:"æ³¨æ„å–šèµ·",
        r_prepay_details:[
          "ä¿®ç†ã‚­ãƒ£ãƒ³ã‚»ãƒ«æ™‚ã€ãƒ¡ãƒ¼ã‚«ãƒ¼å´ã§å‰å—é‡‘ã‚’è¶…ãˆã‚‹è¦‹ç©ã‚‚ã‚Šè²»ãŒç™ºç”Ÿã—ã¦ã‚‚ã€ä»•å…¥ã‚Œå—ã‘å…¥ã‚Œæ™‚ã«é‡‘é¡5,500å††ã¸ä¿®æ­£OKã€‚"
        ]
      },
      surface:{ r_title:"åº—èˆ—ä¿®ç†å—ä»˜ä¸å¯",
        r_details:[
          "å½“åº—ã§ã®ä¿®ç†å—ä»˜ã¯ã§ãã¾ã›ã‚“ã€‚",
          "ãŠå®¢æ§˜ã¨ãƒ¡ãƒ¼ã‚«ãƒ¼ã§ç›´æ¥ã‚„ã‚Šå–ã‚Šã«ãªã‚Šã¾ã™ã€‚",
          "ãƒã‚¤ã‚¯ãƒ­ã‚½ãƒ•ãƒˆã‚µãƒãƒ¼ãƒˆã‚»ãƒ³ã‚¿ãƒ¼ï¼ˆSurfaceå°‚ç”¨ï¼‰ 0120-54-2244ï¼ˆå¹³æ—¥ 9:00ã€œ18:00ï¼‰"
        ]}
    }
  };

  async function loadJSON(url){
    try{
      const res = await fetch(url,{cache:"no-store"});
      if(!res.ok) throw new Error(res.status);
      return await res.json();
    }catch(e){
      console.warn("data.json ã®èª­ã¿è¾¼ã¿ã«å¤±æ•—ã€‚FALLBACKã§ç¶™ç¶šã—ã¾ã™ã€‚", e);
      return FALLBACK;
    }
  }

  let DATA = null;
  let backHandler = null;
  const backBtn = document.getElementById("btn-back-top");
  backBtn.addEventListener("click", ()=> { if(backHandler) backHandler(); });

  function setBack(handler){
    backHandler = handler;
    backBtn.disabled = !handler;
  }

  const app = document.getElementById("app");
  function clear(node){ while(node.firstChild) node.removeChild(node.firstChild); }
  function section(title){
    const card = document.createElement("div"); card.className="card";
    const h = document.createElement("div"); h.className="section-title"; h.textContent=title;
    card.appendChild(h);
    return {card,body:card};
  }
  function chip(label, on){
    const b = document.createElement("button"); b.className="chip"; b.textContent=label;
    b.onclick = on; return b;
  }
  function result(kind, title, lines){
    const box = document.createElement("div"); box.className = "result "+kind;
    const strong = document.createElement("div");
    strong.innerHTML = `<span class="dot"></span><strong>${title}</strong>`;
    const p = document.createElement("div"); p.className="sub";
    p.innerHTML = lines.map(l=>l.replace(/\\n/g,"<br>")).join("<br>");
    box.appendChild(strong); box.appendChild(p); return box;
  }

  function viewTop(){
    setBack(null);
    clear(app);
    const {card} = section("ãƒ¡ãƒ¼ã‚«ãƒ¼åŒºåˆ†ã‚’é¸æŠ");
    const row = document.createElement("div"); row.className="chip-row";
    function addGroup(label, makers){
      row.appendChild(chip(label, ()=> viewMakers(label, makers)));
    }
    addGroup("domestic", DATA.groups.domestic);
    addGroup("overseas", DATA.groups.overseas);
    addGroup("surface", DATA.groups.surface);
    addGroup("apple", DATA.groups.apple);
    card.appendChild(row);
    app.appendChild(card);
  }

  function viewMakers(groupName, makers){
    setBack(()=> viewTop());
    clear(app);
    const {card} = section(groupName === "domestic" ? "å›½å†…ãƒ¡ãƒ¼ã‚«ãƒ¼ä¸€è¦§" :
                           groupName === "overseas" ? "æµ·å¤–ãƒ¡ãƒ¼ã‚«ãƒ¼ä¸€è¦§" :
                           groupName);
    const row = document.createElement("div"); row.className="chip-row";
    makers.forEach(m=>{
      row.appendChild(chip(m, ()=> {
        if(groupName==="surface") return viewSurface();
        if(groupName==="apple") return viewApple();
        return viewWarranty(groupName, m);
      }));
    });
    card.appendChild(row);
    app.appendChild(card);
  }

  function viewWarranty(group, maker){
    setBack(()=> viewMakers(group, DATA.groups[group]));
    clear(app);
    const {card} = section(`${maker} - ãƒ¡ãƒ¼ã‚«ãƒ¼ä¿è¨¼ã®æœŸé–“å†…ã§ã™ã‹ï¼Ÿ`);
    const row = document.createElement("div"); row.className="row";
    const yes = document.createElement("button"); yes.className="btn btn-primary"; yes.textContent="ã¯ã„";
    const no = document.createElement("button"); no.className="btn btn-ghost"; no.textContent="ã„ã„ãˆ";
    row.appendChild(yes); row.appendChild(no);
    card.appendChild(row);

    const area = document.createElement("div"); card.appendChild(area);

    function showYes(){
      area.innerHTML="";
      const t = DATA.text.domestic;
      area.appendChild(result("ok", t.r_warranty_title, t.r_warranty_details));
    }
    function showNo(){
      area.innerHTML="";
      const t = DATA.text.domestic;
      area.appendChild(result("warn", t.r_prepay_title, t.r_prepay_details));
    }
    yes.onclick = showYes;
    no.onclick = showNo;

    app.appendChild(card);
  }

  function viewSurface(){
    setBack(()=> viewTop());
    clear(app);
    const {card} = section("Surface");
    const t = DATA.text.surface;
    card.appendChild(result("ng", t.r_title, t.r_details));
    app.appendChild(card);
  }

  function viewApple(){
    setBack(()=> viewTop());
    clear(app);
    const {card} = section("Apple");
    card.appendChild(result("warn", "åº—é ­å—ä»˜ä¸å¯ï¼ˆAppleã¸ç›´æ¥æ¡ˆå†…ï¼‰", [
      "ãƒã‚¸ãƒåº—é ­ã§ã®ä¿®ç†å—ä»˜ã¯ã§ãã¾ã›ã‚“ã€‚",
      "Appleã¨ãŠå®¢æ§˜ã§ç›´æ¥ã®ä¿®ç†å¯¾å¿œã‚’ãŠé¡˜ã„ã—ã¾ã™ã€‚",
      "Appleã‚µãƒ¼ãƒ“ã‚¹&ã‚µãƒãƒ¼ãƒˆãƒ©ã‚¤ãƒ³ï¼š0120-277-535"
    ]));
    app.appendChild(card);
  }

  (async function init(){
    DATA = await loadJSON("data.json");
    viewTop();
  })();
</script>
</body>
</html>
